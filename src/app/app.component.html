<nb-layout windowMode>
  <nb-layout-column>
    <nb-card>
      <canvas #canvas width="640" height="480"></canvas>

      <nb-card-header>
        <div class="auto__speed">
          <nb-toggle
            [formControl]="toggleFormControl"
            (checkedChange)="changeMode($event)"
            status="primary"
            >Auto speed</nb-toggle
          >
        </div>
      </nb-card-header>
      <nb-card-body
        nbSpinnerSize="giant"
        [nbSpinner]="false"
        nbSpinnerStatus="info"
        nbSpinnerMessage="Đang ở chế độ dò line"
        style="position: relative"
      >
        <div></div>
        <div class="form">
          <label for="speed">Speed card</label>
          <div>
            <input
              nbInput
              fullWidth
              id="speed"
              type="number"
              #speed
              placeholder="Speed Car"
              [formControl]="speedForm"
            />
            <!-- <button nbButton>Save</button> -->
          </div>
        </div>
        <div class="row">
          <div class="col-md-12">
            <div class="process__upload info-playlist">
              <nb-progress-bar
                [value]="progress"
                status="info"
                [displayValue]="true"
              ></nb-progress-bar>
            </div>
          </div>
        </div>
        <div
          class="row"
          style="display: flex; justify-content: space-between; margin: 0 2rem"
        >
          <div class="control__button" style="margin-bottom: 2rem">
            <div class="control">
              <div class="button1">
                <button
                  [status]="mode__Speed === 1 ? 'success' : 'info'"
                  style="margin-left: 3.3rem"
                  nbButton
                  (mousedown)="sendRequest(1)"
                  (mouseup)="clearRequest()"
                >
                  <nb-icon icon="arrow-upward-outline"></nb-icon>
                </button>
              </div>
              <div class="button2">
                <button
                  style="margin-right: 3rem"
                  nbButton
                  [status]="mode__Speed === 3 ? 'success' : 'info'"
                  (mousedown)="sendRequest(3)"
                  (mouseup)="clearRequest()"
                >
                  <nb-icon icon="arrow-back-outline"></nb-icon>
                </button>
                <button
                  [status]="mode__Speed === 4 ? 'success' : 'info'"
                  nbButton
                  (mousedown)="sendRequest(4)"
                  (mouseup)="clearRequest()"
                >
                  <nb-icon icon="arrow-forward-outline"></nb-icon>
                </button>
              </div>
              <div class="button3">
                <button
                  [status]="mode__Speed === 2 ? 'success' : 'info'"
                  style="margin-left: 3.3rem"
                  nbButton
                  (mousedown)="sendRequest(2)"
                  (mouseup)="clearRequest()"
                >
                  <nb-icon icon="arrow-downward-outline"></nb-icon>
                </button>
              </div>
            </div>
          </div>
          <div
            class="action__button"
            style="display: flex; align-items: center"
          >
            <button
              (click)="roundRequest(6)"
              nbButton
              status="primary"
              size="large"
            >
              <nb-icon icon="sync-outline"></nb-icon>
            </button>
            <button
              (click)="roundRequest(7)"
              nbButton
              status="danger"
              size="large"
            >
              <nb-icon icon="sync-outline"></nb-icon>
            </button>
            <button
              (click)="sendResquestWithSpeed(1024)"
              nbButton
              status="success"
              size="large"
            >
              <nb-icon icon="gas__speed" pack="social-networks"></nb-icon>
            </button>

            <button (click)="stop()" nbButton status="danger" size="large">
              <nb-icon icon="stop__speed" pack="social-networks"></nb-icon>
            </button>
            <button
              (click)="turnOnFlashTip()"
              nbButton
              status="info"
              size="large"
            >
              <nb-icon icon="flash-outline"></nb-icon>
            </button>
            <div
              [ngClass]="{ on: isFlash, off: !isFlash }"
              (click)="turnOnFlash()"
            >
              <svg
                version="1.1"
                xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                x="0px"
                y="0px"
                viewBox="0 0 303.3 319.5"
                style="enable-background: new 0 0 303.3 319.5"
                xml:space="preserve"
              >
                <style type="text/css"></style>
                <g id="Layer_1">
                  <line class="st0" x1="41.7" y1="216.4" x2="25.4" y2="225.8" />
                  <line class="st0" x1="25.2" y1="166.2" x2="6.5" y2="168.1" />
                  <line class="st0" x1="30.5" y1="113.6" x2="12.7" y2="107.8" />
                  <line class="st0" x1="56.8" y1="67.7" x2="42.8" y2="55.1" />
                  <line class="st0" x1="99.5" y1="36.4" x2="91.8" y2="19.3" />
                  <line class="st0" x1="151.1" y1="25.3" x2="151.1" y2="6.5" />
                  <line class="st0" x1="202.9" y1="36.1" x2="210.5" y2="18.9" />
                  <line class="st0" x1="245.8" y1="67" x2="259.7" y2="54.5" />
                  <line
                    class="st0"
                    x1="272.4"
                    y1="112.7"
                    x2="290.2"
                    y2="106.9"
                  />
                  <line
                    class="st0"
                    x1="278.1"
                    y1="165.3"
                    x2="296.8"
                    y2="167.2"
                  />
                  <line class="st0" x1="261.9" y1="215.6" x2="278.2" y2="225" />
                </g>
                <g id="Layer_2">
                  <g>
                    <g>
                      <path
                        class="color_UV"
                        d="M142.5,124.4H134c-1.4,0-2.1,1-2.1,3v37.9c-0.2,1.3-0.4,2.4-0.6,3.3c-1.5,3.5-4.2,5.3-8.1,5.3c-1.1,0-1.8-0.1-2.2-0.2
    c-4.5-1.1-6.8-4.4-6.8-9.9v-37.3c-0.2-1.5-0.9-2.3-2.1-2.3h-8.6c-1.2,0.4-1.8,1.1-1.8,2.2v36.4c0,4,0.5,7.3,1.5,9.8
    c0.6,1.6,1.5,3.3,2.8,5.1c2.1,2.4,3.8,4,5.2,4.8c1.9,1.1,3.8,2,5.9,2.5c1.7,0.4,3.7,0.7,6.1,0.8c0.1,0,0.3-0.1,0.6-0.2v0.1
    c4.1,0,8.1-1.3,12-3.9c5.7-4.4,8.6-10.1,8.6-17.1v-38.3c0-0.3,0-0.5-0.1-0.7C143.8,124.9,143.2,124.4,142.5,124.4z"
                      />
                    </g>
                    <g>
                      <path
                        class="color_UV"
                        d="M200.7,124.6h-8.6c-1.3,0-2.2,0.8-2.7,2.5l-10.6,42.7l-10.6-42.7c-0.5-1.7-1.4-2.5-2.7-2.5H157c-1.3,0-1.7,1.1-1.2,3.3
    l14,54.7c0.4,2.2,1.3,3.4,2.6,3.3h12.8c1.3,0,2.2-1.1,2.6-3.3l14-54.7C202.5,125.6,202.1,124.5,200.7,124.6z"
                      />
                    </g>
                  </g>
                </g>
                <g id="Layer_3">
                  <g>
                    <path
                      class="color_light"
                      d="M157.1,56.6c-26.6-1.4-52,7.9-71.4,26.3c-19.3,18.4-30,43.1-30,69.8c0,32.9,16.6,63.2,44.3,81v40.1c0,6.6,2.5,13,7,17.9
  l12.6,13.7c8.3,9,20.1,14.2,32.4,14.2c12.3,0,24.1-5.2,32.4-14.2l12.6-13.7c4.5-4.9,7-11.2,7-17.9v-40.1
  c27.3-17.6,43.9-47.4,44.3-79.8C248.7,102.9,207.9,59.2,157.1,56.6z M190,278.2h-76.1c-0.2,0-0.3,0-0.5,0c-0.5-1.4-0.8-3-0.8-4.5
  v-12.1h78.6v12.1c0,1.6-0.3,3.1-0.8,4.5C190.3,278.2,190.1,278.2,190,278.2z M191.2,249h-78.6v-13.7h78.6V249z M151.9,306.9
  c-8.7,0-17.2-3.7-23.1-10.1l-5.5-5.9h57.1l-5.5,5.9C169.1,303.2,160.7,306.9,151.9,306.9z M197.4,222.7h-91.1
  c-23.8-15.5-38-41.7-38-70.1c0-23.2,9.3-44.7,26.1-60.6c16.8-15.9,38.8-24.1,62-22.8c44.1,2.3,79.6,40.2,79.1,84.5
  C235.2,181.7,221,207.4,197.4,222.7z"
                    />
                  </g>
                </g>
              </svg>
            </div>
          </div>
        </div>
      </nb-card-body>
      <nb-card-footer>
        <div class="row">
          <div class="col-sm-6 col-md-6col-lg-6">
            <h5>SPEED</h5>
            <div class="slider-container">
              <ngx-temperature-dragger
                [(value)]="temperature"
                [min]="temperatureData.min"
                [max]="temperatureData.max"
                [disableArcColor]="theme.arcEmpty"
                [fillColors]="theme.arcFill"
                [thumbBg]="theme.thumbBg"
                [thumbBorderColor]="theme.thumbBorder"
                (valueChange)="getNumberSpeed($event)"
                (power)="getPower2($event)"
                [type]="'speed'"
                [mode__speed]="modeAuto"
              >
                <div
                  class="slider-value-container"
                  [ngClass]="{ off: !modeAuto }"
                >
                  <div class="value temperature h1">
                    {{ temperature | ngxRound }}
                  </div>
                  <div class="desc">CD/cm2</div>
                </div>
              </ngx-temperature-dragger>
            </div>
          </div>
          <div class="col-sm-6 col-md-6col-lg-6">
            <h5>LIGHT</h5>

            <div class="slider-container">
              <ngx-temperature-dragger
                [(value)]="humidity"
                [min]="humidityData.min"
                [max]="humidityData.max"
                [disableArcColor]="theme.arcEmpty"
                [fillColors]="theme.arcFill"
                [thumbBg]="theme.thumbBg"
                [thumbBorderColor]="theme.thumbBorder"
                (valueChange)="getNumberLight($event)"
                (power)="getPower($event)"
                [type]="'light'"
                [mode__speed]="modeAuto"
              >
                <div
                  class="slider-value-container"
                  [ngClass]="{ off: !modeAuto }"
                >
                  <div class="value humidity h1">
                    {{ humidity | ngxRound }}
                  </div>
                </div>
              </ngx-temperature-dragger>
            </div>
          </div>
        </div>
      </nb-card-footer>
    </nb-card>
  </nb-layout-column>
</nb-layout>
